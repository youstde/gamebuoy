!function(e){var t=this,i=t.Baitai=t.Baitai?t.Baitai:{};i.Buoy=e(t),"undefined"!=typeof module&&module.exports&&(module.exports=i.Buoy)}(function(e){function t(e){this.data="",this.el="",this.options=e,this._init(),this._imgPreList()}var i='<a class="buoy" style="display:block;"><style type="text/css">.buoyredpack {  position: absolute;  top: 9.609416rem;  right: 0;  width: 2.2031344rem;  height: 0.820316rem;  z-index: 100;  background-repeat: no-repeat;  background-size: cover;  animation: img 0.8s steps(2, end) 2;  -webkit-animation: img 0.8s steps(2, end) 2;}.buoycrabWrap {  position: absolute;  width: 2.0390712rem;  height: 1.933602rem;  z-index: 100;  top: 4.68752rem;  left: 0;  animation: buoycrabWrap 1.5s linear forwards;  -webkit-animation: buoycrabWrap 1.5s linear forwards;}.buoycrabWrap .crab {  width: 2.0390712rem;  height: 1.933602rem;  background-repeat: no-repeat;  background-size: cover;  animation: img2 1s steps(4, end) infinite;  -webkit-animation: img2 1s steps(4, end) infinite;}@keyframes buoycrabWrap {  0% {    transform: translate(0, 0);  }  80% {    transform: translate(5.390648rem, 0);  }  100% {    transform: translate(5.390648rem, 3.046888rem);  }}@-webkit-keyframes buoycrabWrap {  0% {    transform: translate(0, 0);  }  80% {    transform: translate(5.390648rem, 0);  }  100% {    transform: translate(5.390648rem, 3.046888rem);  }}@-webkit-keyframes img {  0% {    background-position: 0 0;  }  100% {    background-position: 0 100%;  }}@keyframes img {  0% {    background-position: 0 0;  }  100% {    background-position: 0 100%;  }}@-webkit-keyframes img2 {  0% {    background-position: 0 0;  }  100% {    background-position: 100% 0;  }}@keyframes img2 {  0% {    background-position: 0 0;  }  100% {    background-position: 100% 0;  }}.coolbuoy {  position: absolute;  right: 0.117188rem;  top: 9.140664rem;  width: 1.523444rem;  height: 1.523444rem;  z-index: 200;  opacity: 0;  animation: img2 1s infinite;  -webkit-animation: img2 1s infinite;  animation-delay: 1s;  -webkit-animation-delay: 1s;}</style><div class="buoycrabWrap">        <div class="crab config" data-config="crab"></div>    </div>    <div class="buoyredpack config" data-config="buoyredpack"></div></a>',o=function(e){e.prototype._setImgConfig=function(e){var t=this;if(e.name&&"style"===e.type){var i=t.el.querySelectorAll(".config[data-config="+e.name+"]");i.length>1?i.forEach(function(t){t.style.backgroundImage="url("+e.imgUlr+")"}):t.el.querySelector(".config[data-config="+e.name+"]").style.backgroundImage="url("+e.imgUlr+")"}},e.prototype._setPreImgLoad=function(e){var t=this,i=[];e.forEach(function(e,o){window.supportWebp&&e.canWebp&&(e.imgUlr+="?x-oss-process=image/format,webp"),i[o]=new Image,i[o].src=e.imgUlr,t._setImgConfig(e)})}};return o(t),t.prototype._init=function(){var e=document.createElement("div");e.innerHTML=i,this.el=e.querySelector("a"),this._bindEvent()},t.prototype._bindEvent=function(){this.el.addEventListener("click",function(){this.options.clickCallback&&this.options.clickCallback()}.bind(this))},t.prototype._createDom=function(){var e=document.querySelector(".Buoy-box");e.innerHTML="",e.appendChild(this.el)},t.prototype.showBuoy=function(){this._createDom()},t.prototype.setMessage=function(e){this.el.href=e},t.prototype.sendMessage=function(e){this.setMessage(e)},t.prototype._imgPreList=function(){var e=[{name:"buoyredpack",type:"style",canWebp:!0,imgUlr:"//oss.ltcdn.cc/game/Theme/Buoy/Images/Buoy3/redpack.png"},{name:"crab",type:"style",canWebp:!0,imgUlr:"//oss.ltcdn.cc/game/Theme/Buoy/Images/Buoy3/crap.png"}];this._setPreImgLoad(e)},t});